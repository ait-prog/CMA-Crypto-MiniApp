# üöÇ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Railway –¥–ª—è –¥–µ–ø–ª–æ—è API

## –í–∞–∂–Ω–æ: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Root Directory

Railway –Ω–µ –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞. –ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å **Root Directory**:

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Railway

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://railway.app
2. –ù–∞–∂–º–∏—Ç–µ "New Project"
3. –í—ã–±–µ—Ä–∏—Ç–µ "Deploy from GitHub repo"
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `ait-prog/CMA-Crypto-MiniApp`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Root Directory (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ Railway –ø–æ–¥–∫–ª—é—á–∏—Ç –≤–µ—Å—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (main). –ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–∞–ø–∫—É `api`:

1. –í Railway Dashboard –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å (service)
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **—Ç—Ä–∏ —Ç–æ—á–∫–∏** (‚ãÆ) —Å–ø—Ä–∞–≤–∞ –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ ‚Üí **Settings**
   –ò–õ–ò
   –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Settings** (–≤–≤–µ—Ä—Ö—É)
4. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Source**
5. –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ **Root Directory**
6. –í–≤–µ–¥–∏—Ç–µ: `api` (–±–µ–∑ —Å–ª–µ—à–µ–π, –ø—Ä–æ—Å—Ç–æ `api`)
7. –ù–∞–∂–º–∏—Ç–µ **Save** –∏–ª–∏ **Update**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Working directory: /app` (—ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Railway —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–∞–ø–∫–µ api)
- –í Build Logs –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω —Ñ–∞–π–ª `api/main.py`

### –®–∞–≥ 3: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í —Ä–∞–∑–¥–µ–ª–µ **Variables** –¥–æ–±–∞–≤—å—Ç–µ:

```
CRYPTOPANIC_KEY=ecef6293b2242fb90b6e03175ecb5a4a2e3a3b01
LLM4WEB3_URL=
LLM4WEB3_TOKEN=
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Start Command

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö **Deploy** –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

**Start Command:**
```
uvicorn main:app --host 0.0.0.0 --port $PORT
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `$PORT`.

### –®–∞–≥ 5: –î–µ–ø–ª–æ–π

1. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –¥–µ–ø–ª–æ–π
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://crypto-api-production.up.railway.app`)

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
curl https://your-railway-url.railway.app/healthz
curl https://your-railway-url.railway.app/coins
curl https://your-railway-url.railway.app/news/bitcoin
```

## Troubleshooting

### –û—à–∏–±–∫–∞: "Railpack could not determine how to build"
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ —É–∫–∞–∑–∞–Ω Root Directory
- **–†–µ—à–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Root Directory = `api` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–µ—Ä–≤–∏—Å–∞

### –û—à–∏–±–∫–∞: "Module not found"
- **–ü—Ä–∏—á–∏–Ω–∞**: Railway –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –º–æ–¥—É–ª–∏
- **–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Root Directory = `api`

### –û—à–∏–±–∫–∞: "Port already in use"
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
- **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--port $PORT` (Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø–æ—Ä—Ç)

### API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway Dashboard
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è Railway

```
CMA-Crypto-MiniApp/
‚îú‚îÄ‚îÄ api/              ‚Üê Root Directory –¥–ª—è Railway
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îú‚îÄ‚îÄ Procfile      ‚Üê –î–ª—è Railway
‚îÇ   ‚îú‚îÄ‚îÄ start.sh      ‚Üê –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
‚îÇ   ‚îî‚îÄ‚îÄ railway.json  ‚Üê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ bot/
‚îú‚îÄ‚îÄ web/
‚îî‚îÄ‚îÄ ...
```

## –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π URL API
2. –û–±–Ω–æ–≤–∏—Ç–µ GitHub Secrets:
   - Settings ‚Üí Secrets ‚Üí Actions
   - –î–æ–±–∞–≤—å—Ç–µ: `VITE_API` = –≤–∞—à Railway URL
3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ GitHub Actions)

